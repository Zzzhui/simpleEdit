function input(){function t(t){var o=i.val();i.val(o+t)}$("#ubb");var o=$("img"),i=$("textarea"),e=!0,n=!0;o.eq(0).on("click",function(){e?($("#font").show(),e=!1):($("#font").hide(),e=!0)}),$("#input-font").on("click",function(){layer.prompt({title:"请输入字体",formType:0,value:"px"},function(o,i){$("#font").hide(),e=!0,o&&(/[0-9]*px$/.test(o)?(t("[size="+o+"][/size]"),layer.close(i)):layer.msg("字体格式不对",{time:500}))})}),$("#font strong").not("#input-font").on("click",function(){t("[size="+$(this).text()+"][/size]"),$("#font").hide(),e=!0}),o.eq(2).on("click",function(){t("[b][/b]")}),o.eq(3).on("click",function(){t("[i][/i]")}),o.eq(4).on("click",function(){t("[u][/u]")}),o.eq(5).on("click",function(){t("[s][/s]")}),o.eq(7).on("click",function(){n?($("#color").show(),n=!1):($("#color").hide(),n=!0)}),$("#input-color").on("click",function(){layer.prompt({title:"请输入颜色",formType:0,value:"#"},function(o,i){$("#color").hide(),n=!0,o&&(/^#[0-9]{3,6}$/.test(o)?(t("[color="+o+"][/color]"),layer.close(i)):layer.msg("颜色格式不对",{time:500}))})}),$("#color strong").not("#input-color").on("click",function(){t("[color="+$(this).data("color")+"][/color]"),$("#color").hide(),n=!0}),o.eq(8).on("click",function(){layer.prompt({title:"请输入网址",formType:0,value:"http://"},function(o,i){o&&(/^https?:\/\/(\w+\.)?[\w\-\.]+(\.\w+)+$/.test(o)?(t("[url]"+o+"[/url]"),layer.close(i)):layer.msg("网址格式不对",{time:500}))})}),o.eq(9).on("click",function(){layer.prompt({title:"请输入电子邮件",formType:0,value:"@"},function(o,i){o&&(/^[\w\-\.]+@[\w\-\.]+(\.\w+)+$/.test(o)?(t("[email]"+o+"[/email]"),layer.close(i)):layer.msg("电子邮件格式不对",{time:500}))})}),o.eq(10).on("click",function(){layer.prompt({title:"请输入图片地址",formType:0},function(o,i){t("[img]"+o+"[/img]"),layer.close(i)})}),o.eq(11).on("click",function(){layer.prompt({title:"请输入flash地址",formType:0,value:"http://"},function(o,i){o&&(/^https?:\/\/(\w+\.)?[\w\-\.]+(\.\w+)+/.test(o)?(t("[flash]"+o+"[/flash]"),layer.close(i)):layer.msg("flash格式不对",{time:500}))})}),o.eq(12).on("click",function(){layer.prompt({title:"请输入视频地址",formType:0,value:"http://"},function(o,i){o&&(/^https?:\/\/(\w+\.)?[\w\-\.]+(\.\w+)+/.test(o)?(t("[video]"+o+"[/video]"),layer.close(i)):layer.msg("视频格式不对",{time:500}))})}),o.eq(14).on("click",function(){t("[left][/left]")}),o.eq(15).on("click",function(){t("[center][/center]")}),o.eq(16).on("click",function(){t("[right][/right]")}),o.eq(18).on("click",function(){i.height(i.height()+10)}),o.eq(19).on("click",function(){i.height(i.height()-10)}),o.eq(20).on("click",function(){e?($("#pic").show(),e=!1):($("#pic").hide(),e=!0)}),$("#pic .pic").on("click",function(){t("[img]"+$(this).attr("src")+"[/img]"),$("#pic").hide(),e=!0})}input();